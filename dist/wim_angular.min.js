String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})});var WiM;!function(t){var e;!function(t){!function(){function t(t,e,n,i){this.Title=t,this.Author=e,this.imgSrc=n,this.src=i}return t.FromJSON=function(e){var n=e.hasOwnProperty("title")?e.title:"--",i=e.hasOwnProperty("author")?e.author:"",r=e.hasOwnProperty("imgeSrc")?e.imgeSrc:"",s=e.hasOwnProperty("src")?e.src:"";return new t(n,i,r,s)},t}()}(e=t.Models||(t.Models={}))}(WiM||(WiM={}));var StreamStats;!function(t){var e;!function(t){!function(){function t(t,e){this.k=t,this.v=e,this.Key=t,this.Value=e}return t}()}(e=t.Models||(t.Models={}))}(StreamStats||(StreamStats={}));var WiM;!function(t){var e;!function(t){var e=(function(){function t(t,e,n,i,r,s){this.name=t,this.value=e,this.code=n,this.unit=r,this.description=i,this.limits=s}return t.FromJSON=function(n){var i=n.hasOwnProperty("name")?n.name:"---",r=n.hasOwnProperty("description")?n.description:"---",s=n.hasOwnProperty("code")?n.code:"---",o=n.hasOwnProperty("unit")?n.unit:"---",c=n.hasOwnProperty("value")?n.value:-999,u=n.hasOwnProperty("limits")&&null!=n.limits?e.FromJSON(n.limits):null;return new t(i,c,s,r,o,u)},t}(),function(){function t(t,e){this.min=t,this.max=e}return t.FromJSON=function(e){var n=e.hasOwnProperty("min")?e.min:-999,i=e.hasOwnProperty("max")?e.max:-999;return new t(n,i)},t}())}(e=t.Models||(t.Models={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){var e=function(){function t(t,e,n){this.Latitude=t,this.Longitude=e,this.crs=n}return t.prototype.ToEsriString=function(){return"{"+"x:{0},y:{1}".format(this.Longitude.toString(),this.Latitude.toString())+"}"},t.FromJson=function(e){var n=e.hasOwnProperty("Latitude")?e.Latitude:-9999,i=e.hasOwnProperty("Longitude")?e.Longitude:-9999,r=e.hasOwnProperty("wkid")?e.wkid:"---";return new t(n,i,r)},t}();t.Point=e}(e=t.Models||(t.Models={}))}(WiM||(WiM={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},WiM;!function(t){var e;!function(t){"use strict";var e=function(e){function n(t,n,i,r){e.call(this,t,i),this.User=r}return __extends(n,e),n.prototype.SetBasicAuthentication=function(e,n){var i;i=new t.Helpers.RequestInfo(e);var r;try{r=btoa(this.User.username+":"+n)}catch(s){r=this.encode(this.User.username+":"+n)}return this.$http.defaults.headers.common.Authorization="Basic "+r,this.Execute(i).then(function(t){})},n.prototype.SetTokenAuthentication=function(e,n){var i=this;try{var r=new t.Helpers.RequestInfo(e);return this.Execute(r).then(function(t){i.$http.defaults.headers.common.Authorization="token "+t.data})}catch(s){}},n.prototype.encode=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";try{var n="",i=0/0,r=0/0,s=0/0,o=0/0,c=0/0,u=0/0,a=0/0,h=0;do i=t.charCodeAt(h++),r=t.charCodeAt(h++),s=t.charCodeAt(h++),o=i>>2,c=(3&i)<<4|r>>4,u=(15&r)<<2|s>>6,a=63&s,isNaN(r)?u=a=64:isNaN(s)&&(a=64),n=n+e.charAt(o)+e.charAt(c)+e.charAt(u)+e.charAt(a),i=r=s=0/0,o=c=u=a=0/0;while(h<t.length);return n}catch(d){}},n}(t.HTTPServiceBase);t.AuthenticationServiceAgent=e}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){"use strict";var e=function(){function t(t,e){this.baseURL=e,this.$http=t}return t.prototype.Execute=function(t){return t.url=this.baseURL+t.url,this.$http(t)},t}();t.HTTPServiceBase=e}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n},WiM;!function(t){var e;!function(e){"use strict";function n(t,e){return new r(t,e)}var i=function(){function t(t,e,n,i,r){this.Name=t,this.Category=e,this.State=n,this.Latitude=i,this.Longitude=r,this.crs="4326"}return t}();e.SearchLocation=i;var r=function(e){function n(t,n){e.call(this,t,configuration.baseurls.SearchAPI),this.$q=n,this.init()}return __extends(n,e),n.prototype.getLocations=function(e){var n=this,r=new t.Services.Helpers.RequestInfo("/search");return r.params={term:e,includeGNIS:this.includeGNIS,useCommonGnisClasses:this.useCommonGnisClasses,includeUsgsSiteSW:this.includeUsgsSiteSW,includeUsgsSiteGW:this.includeUsgsSiteGW,includeUsgsSiteSP:this.includeUsgsSiteSP,includeUsgsSiteAT:this.includeUsgsSiteAT,includeUsgsSiteOT:this.includeUsgsSiteOT,includeZIPcodes:this.includeZIPcodes,includeAREAcodes:this.includeAREAcodes,includeState:this.includeState,topN:this.topN,debug:this.debug},this.Execute(r).then(function(t){return t.data.map(function(t){return new i(t.nm,t.ct,t.st,t.y,t.x)})},function(t){return n.$q.reject(t.data)})},n.prototype.init=function(){this.includeGNIS=!0,this.useCommonGnisClasses=!0,this.includeUsgsSiteSW=!0,this.includeUsgsSiteGW=!0,this.includeUsgsSiteSP=!0,this.includeUsgsSiteAT=!0,this.includeUsgsSiteOT=!0,this.includeZIPcodes=!0,this.includeAREAcodes=!0,this.includeState=!0,this.topN=100,this.debug=!1},n}(e.HTTPServiceBase);n.$inject=["$http","$q"],angular.module("WiM.Services").factory("WiM.Services.SearchAPIService",n)}(e=t.Services||(t.Services={}))}(WiM||(WiM={})),function(){"use strict";angular.module("WiM.Services",[])}();var WiM;!function(t){var e;!function(t){"use strict";function e(t){return new n(t)}var n=function(){function t(t){this.$rootScope=t,t.$on("$stateChangeStart",this.stateChangeStart),t.$on("$stateChangeSuccess",this.stateChangeSuccess),t.$on("$stateChangeError",this.stateChangeError),t.$on("$stateNotFound",this.stateNotFound)}return t.prototype.stateChangeStart=function(t,e,n,i,r){console.log("state change start",t,e,n,i,r)},t.prototype.stateChangeSuccess=function(t,e,n,i,r){console.log("state change success",t,e,n,i,r)},t.prototype.stateChangeError=function(t,e,n,i,r,s){console.log("state change error",t,e,n,i,r,s)},t.prototype.stateNotFound=function(t,e,n,i,r){console.log("state not found",t,e,n,i,r)},t}();e.$inject=["$rootScope"],angular.module("WiM.Services").factory("WiM.Services.StateWatcherService",e)}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,i,r){void 0===e&&(e=0),void 0===i&&(i="json"),void 0===r&&(r=null),this.url=t,this.method=n[e],this.dataType=i,this.data=r}return t}();t.RequestInfo=e,function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.DELETE=3]="DELETE"}(t.methodType||(t.methodType={}));var n=t.methodType}(e=t.Helpers||(t.Helpers={}))}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));