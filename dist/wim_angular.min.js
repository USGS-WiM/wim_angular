String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})});var WiM;!function(t){var e;!function(t){!function(){function t(t,e,i,n){this.Title=t,this.Author=e,this.imgSrc=i,this.src=n}return t.FromJSON=function(e){var i=e.hasOwnProperty("title")?e.title:"--",n=e.hasOwnProperty("author")?e.author:"",r=e.hasOwnProperty("imgeSrc")?e.imgeSrc:"",s=e.hasOwnProperty("src")?e.src:"";return new t(i,n,r,s)},t}()}(e=t.Models||(t.Models={}))}(WiM||(WiM={}));var StreamStats;!function(t){var e;!function(t){!function(){function t(t,e){this.k=t,this.v=e,this.Key=t,this.Value=e}return t}()}(e=t.Models||(t.Models={}))}(StreamStats||(StreamStats={}));var WiM;!function(t){var e;!function(t){var e=(function(){function t(t,e,i,n,r,s){this.name=t,this.value=e,this.code=i,this.unit=r,this.description=n,this.limits=s}return t.FromJSON=function(i){var n=i.hasOwnProperty("name")?i.name:"---",r=i.hasOwnProperty("description")?i.description:"---",s=i.hasOwnProperty("code")?i.code:"---",o=i.hasOwnProperty("unit")?i.unit:"---",c=i.hasOwnProperty("value")?i.value:-999,u=i.hasOwnProperty("limits")&&null!=i.limits?e.FromJSON(i.limits):null;return new t(n,c,s,r,o,u)},t}(),function(){function t(t,e){this.min=t,this.max=e}return t.FromJSON=function(e){var i=e.hasOwnProperty("min")?e.min:-999,n=e.hasOwnProperty("max")?e.max:-999;return new t(i,n)},t}())}(e=t.Models||(t.Models={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){var e=function(){function t(t,e,i){this.Latitude=t,this.Longitude=e,this.crs=i}return t.prototype.ToEsriString=function(){return"{"+"x:{0},y:{1}".format(this.Longitude.toString(),this.Latitude.toString())+"}"},t.FromJson=function(e){var i=e.hasOwnProperty("Latitude")?e.Latitude:-9999,n=e.hasOwnProperty("Longitude")?e.Longitude:-9999,r=e.hasOwnProperty("wkid")?e.wkid:"---";return new t(i,n,r)},t}();t.Point=e}(e=t.Models||(t.Models={}))}(WiM||(WiM={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},WiM;!function(t){var e;!function(t){"use strict";var e=function(e){function i(t,i,n,r){e.call(this,t,n),this.User=r}return __extends(i,e),i.prototype.SetBasicAuthentication=function(e,i){var n;n=new t.Helpers.RequestInfo(e);var r;try{r=btoa(this.User.username+":"+i)}catch(s){r=this.encode(this.User.username+":"+i)}return this.$http.defaults.headers.common.Authorization="Basic "+r,this.Execute(n).then(function(t){})},i.prototype.SetTokenAuthentication=function(e,i){var n=this;try{var r=new t.Helpers.RequestInfo(e);return this.Execute(r).then(function(t){n.$http.defaults.headers.common.Authorization="token "+t.data})}catch(s){}},i.prototype.encode=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";try{var i="",n=0/0,r=0/0,s=0/0,o=0/0,c=0/0,u=0/0,a=0/0,h=0;do n=t.charCodeAt(h++),r=t.charCodeAt(h++),s=t.charCodeAt(h++),o=n>>2,c=(3&n)<<4|r>>4,u=(15&r)<<2|s>>6,a=63&s,isNaN(r)?u=a=64:isNaN(s)&&(a=64),i=i+e.charAt(o)+e.charAt(c)+e.charAt(u)+e.charAt(a),n=r=s=0/0,o=c=u=a=0/0;while(h<t.length);return i}catch(d){}},i}(t.HTTPServiceBase);t.AuthenticationServiceAgent=e}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n="json"),void 0===r&&(r=null),this.url=t,this.method=i[e],this.dataType=n,this.data=r}return t}();t.RequestInfo=e,function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.PUT=2]="PUT",t[t.DELETE=3]="DELETE"}(t.methodType||(t.methodType={}));var i=t.methodType}(e=t.Helpers||(t.Helpers={}))}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(t){"use strict";var e=function(){function t(t,e){this.baseURL=e,this.$http=t}return t.prototype.Execute=function(t){return t.url=this.baseURL+t.url,this.$http(t)},t}();t.HTTPServiceBase=e}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));var WiM;!function(t){var e;!function(e){"use strict";function i(t,e){return new r(t,e)}var n=function(){function t(t,e,i,n,r){this.Name=t,this.Category=e,this.State=i,this.Latitude=n,this.Longitude=r,this.crs="4326"}return t}();e.SearchLocation=n;var r=function(e){function i(t,i){e.call(this,t,configuration.baseurls.SearchAPI),this.$q=i,this.init()}return __extends(i,e),i.prototype.getLocations=function(e){var i=this,r=new t.Services.Helpers.RequestInfo("/search");return r.params={term:e,includeGNIS:this.includeGNIS,useCommonGnisClasses:this.useCommonGnisClasses,includeUsgsSiteSW:this.includeUsgsSiteSW,includeUsgsSiteGW:this.includeUsgsSiteGW,includeUsgsSiteSP:this.includeUsgsSiteSP,includeUsgsSiteAT:this.includeUsgsSiteAT,includeUsgsSiteOT:this.includeUsgsSiteOT,includeZIPcodes:this.includeZIPcodes,includeAREAcodes:this.includeAREAcodes,includeState:this.includeState,topN:this.topN,debug:this.debug},this.Execute(r).then(function(t){return t.data.map(function(t){return new n(t.nm,t.ct,t.st,t.y,t.x)})},function(t){return i.$q.reject(t.data)})},i.prototype.init=function(){this.includeGNIS=!0,this.useCommonGnisClasses=!0,this.includeUsgsSiteSW=!0,this.includeUsgsSiteGW=!0,this.includeUsgsSiteSP=!0,this.includeUsgsSiteAT=!0,this.includeUsgsSiteOT=!0,this.includeZIPcodes=!0,this.includeAREAcodes=!0,this.includeState=!0,this.topN=100,this.debug=!1},i}(e.HTTPServiceBase);i.$inject=["$http","$q"],angular.module("WiM.Services").factory("WiM.Services.SearchAPIService",i)}(e=t.Services||(t.Services={}))}(WiM||(WiM={})),function(){"use strict";angular.module("WiM.Services",[])}();var WiM;!function(t){var e;!function(t){"use strict";function e(t){return new i(t)}var i=function(){function t(t){this.$rootScope=t,t.$on("$stateChangeStart",this.stateChangeStart),t.$on("$stateChangeSuccess",this.stateChangeSuccess),t.$on("$stateChangeError",this.stateChangeError),t.$on("$stateNotFound",this.stateNotFound)}return t.prototype.stateChangeStart=function(t,e,i,n,r){console.log("state change start",t,e,i,n,r)},t.prototype.stateChangeSuccess=function(t,e,i,n,r){console.log("state change success",t,e,i,n,r)},t.prototype.stateChangeError=function(t,e,i,n,r,s){console.log("state change error",t,e,i,n,r,s)},t.prototype.stateNotFound=function(t,e,i,n,r){console.log("state not found",t,e,i,n,r)},t}();e.$inject=["$rootScope"],angular.module("WiM.Services").factory("WiM.Services.StateWatcherService",e)}(e=t.Services||(t.Services={}))}(WiM||(WiM={}));